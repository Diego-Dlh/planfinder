{% extends "base.html" %}
{% block title %}Mi Perfil{% endblock %}

{% block content %}
<h2>Mi Perfil</h2>

<form method="POST" class="formulario-estilizado">
    <label>Nombre:</label>
    <input type="text" name="nombre" value="{{ usuario.nombre }}" required>

    <label>Email:</label>
    <input type="email" value="{{ usuario.email }}" disabled>

    <label>Tipo de usuario:</label>
    <input type="text" value="{{ usuario.tipo.value }}" disabled>

    <label>Nueva contrase침a (opcional):</label>
    <input type="password" name="contrasena">

    <label>Foto de perfil (URL):</label>
    <input type="url" name="foto_perfil" value="{{ usuario.foto_perfil or '' }}">

    {% if usuario.foto_perfil %}
        <p>Vista previa:</p>
        <img src="{{ usuario.foto_perfil }}" alt="foto perfil" width="150">
    {% endif %}

    <button type="submit" class="btn-filtrar">Guardar cambios</button>
</form>

<!-- Bot칩n Cerrar Sesi칩n -->
<form action="{{ url_for('auth.logout') }}" method="get" style="margin-top: 1.5rem;">
    <button type="submit" class="btn-cerrar-sesion">Cerrar sesi칩n</button>
</form>

{% endblock %}
